<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrito de Compras</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="css/carrito.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

</head>
<body>
    <header>
        <h1>Carrito de Compras</h1>
        <a href="index.html" ><button class="boton"><i class="fa fa-arrow-left" aria-hidden="true"></i>
        </button></a>
    </header>
    
    <main>
        <section class="cart">
            <h2>Productos en el Carrito</h2>
            <ul id="cart-items">
                <!-- Los artículos del carrito se mostrarán aquí -->
            </ul>
            <p id="total">Total: $0.00</p>
            <button id="clear-cart" style="background-color: #397f3e; border: none; border-radius: 20px; color: #fcf9ed; height: 30px;">Vaciar Carrito</button>
        </section>
    </main>

    <script>
        // Función para cargar los productos desde el localStorage
        function loadCart() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const cartItems = document.getElementById('cart-items');
            let total = 0;

            // Limpiar los elementos actuales del carrito
            cartItems.innerHTML = '';

            // Agregar cada producto del carrito a la lista
            cart.forEach(product => {
                const li = document.createElement('li');
                li.textContent = `${product.name} - $${product.price.toFixed(2)}`;
                cartItems.appendChild(li);
                total += product.price;
            });

            // Mostrar el total
            document.getElementById('total').textContent = `Total: $${total.toFixed(2)}`;
        }

        // Vaciar el carrito
        function clearCart() {
            localStorage.removeItem('cart');
            loadCart(); // Recargar el carrito vacío
        }

        // Cargar los productos al cargar la página
        document.addEventListener('DOMContentLoaded', loadCart);

        // Vaciar carrito al hacer clic en el botón
        document.getElementById('clear-cart').addEventListener('click', clearCart);
    </script>
</body>
</html>
